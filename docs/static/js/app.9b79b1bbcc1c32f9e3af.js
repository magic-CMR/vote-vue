webpackJsonp([0],{"+rPi":function(t,e,n){"use strict";function o(t){n("TCJU")}var s=n("MEJZ"),i=n("YvLj"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-4697dec7",null);e.a=u.exports},"0kI0":function(t,e){},"0pd7":function(t,e,n){"use strict";var o=n("J+oA");e.a={name:"list",components:{VoteOption:o.a},data:function(){return{}},computed:{options:function(){return this.$store.state.vote.options}}}},"8fmy":function(t,e){},"8yq1":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vote-show"},[n("div",{staticClass:"options-list"}),t._v(" "),n("div",{staticClass:"show-votes-bar"},t._l(t.votes,function(t){return n("div",{staticClass:"bar"},[n("result-svg",{attrs:{votes:t}})],1)}))])},s=[],i={render:o,staticRenderFns:s};e.a=i},"9Ja2":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form"},[t.isAuthentucated?n("div",[t._v("我是"+t._s(t.currentUser))]):n("div",[t._v("你是\n  "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"你的名字"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.login}},[t._v("保存")])])])},s=[],i={render:o,staticRenderFns:s};e.a=i},AEJK:function(t,e){},BBEb:function(t,e,n){"use strict";function o(t){n("tqsL")}var s=n("IY4k"),i=n("znFG"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-6e8350f5",null);e.a=u.exports},BpBI:function(t,e,n){"use strict";function o(t){n("0kI0")}var s=n("LIK2"),i=n("8yq1"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-c562b712",null);e.a=u.exports},"D+VX":function(t,e,n){"use strict";var o={isAuthentucated:!1,currentUser:""},s={login:function(t,e){var n=e.username;t.currentUser=n,t.isAuthentucated=!0}};e.a={state:o,mutations:s}},FcqW:function(t,e,n){"use strict";e.a={name:"vote-option",props:["option"],computed:{votes:function(){var t=this;return this.$store.state.vote.votes.filter(function(e){return e.optionId==t.option.id})},voted:function(){var t=this.$store.state.auth.currentUser;return this.votes.filter(function(e){return e.voter===t}).length}},methods:{voteup:function(){var t=this.$store.state.auth.currentUser;if(!t)return void alert("填写你的名字");if(!this.votes.filter(function(e){return e.voter===t}).length){var e={voter:t,optionId:this.option.id};this.$store.commit({type:"voteup",vote:e})}},votedown:function(){var t=this.$store.state.auth.currentUser,e={voter:t,optionId:this.option.id};this.$store.commit({type:"votedown",vote:e})}}}},Fs8J:function(t,e,n){"use strict";var o=n("gosb"),s=n("BBEb"),i=n("tcnj"),r=n("BpBI");e.a={name:"home",data:function(){return{msg:"Welcome to Your Vue.js App"}},components:{LoginForm:o.a,Options:s.a,List:i.a,VoteShow:r.a}}},IY4k:function(t,e,n){"use strict";e.a={name:"new-option",data:function(){return{text:""}},methods:{addOption:function(){var t=this;if(this.$store.state.vote.options.filter(function(e){return e.text==t.text}).length)return void alert("此项已有");var e=n("Z8es");if(this.text){var o={text:this.text,id:e.generate()};this.$store.commit({type:"addOption",text:o}),console.log(this.$store.state.vote.options),this.text=""}}}}},IcnI:function(t,e,n){"use strict";var o=n("7+uW"),s=n("NYxO"),i=n("D+VX"),r=n("QFJm");o.a.use(s.a),e.a=new s.a.Store({modules:{auth:i.a,vote:r.a}})},"J+oA":function(t,e,n){"use strict";function o(t){n("8fmy")}var s=n("FcqW"),i=n("keXt"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-3343f522",null);e.a=u.exports},KJuD:function(t,e){},LIK2:function(t,e,n){"use strict";var o=n("+rPi");e.a={name:"vote-show",components:{ResultSvg:o.a},computed:{options:function(){return this.$store.state.vote.options},votes:function(){var t=this;return this.options.map(function(e){var n=t.$store.state.vote.votes.filter(function(t){return t.optionId===e.id});return{name:e.text,id:e.id,voteCount:n}}).sort(function(t,e){return t.voteCount.length-e.voteCount.length}).slice().reverse()}}}},M93x:function(t,e,n){"use strict";function o(t){n("KJuD")}var s=n("xJD8"),i=n("yV8u"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,null,null);e.a=u.exports},MEJZ:function(t,e,n){"use strict";e.a={name:"result-svg",props:["votes"],computed:{percent:function(){return parseInt(this.votes.voteCount.length/this.$store.state.vote.votes.length*100)},percentStr:function(){return this.percent+" 100"}}}},NGUh:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"login-wrap"},[n("login-form")],1),t._v(" "),n("div",{staticClass:"list-wrap"},[n("list")],1),t._v(" "),n("div",{staticClass:"options-wrap"},[n("options")],1),t._v(" "),n("div",{staticClass:"option-show-wrap"},[n("vote-show")],1)])},s=[],i={render:o,staticRenderFns:s};e.a=i},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s=n("M93x"),i=n("YaEn"),r=n("IcnI");o.a.config.productionTip=!1,new o.a({el:"#app",router:i.a,store:r.a,template:"<App/>",components:{App:s.a}})},QFJm:function(t,e,n){"use strict";var o={options:[{text:"麻婆豆腐",id:1},{text:"红烧鸡块",id:2}],votes:[{voter:"ds",optionId:2,id:1},{voter:"xs",optionId:2,id:2},{voter:"哈哈",optionId:1,id:3}]},s={addOption:function(t,e){var n=e.text;t.options.push(n)},voteup:function(t,e){var n=e.vote;t.votes.push(n)},votedown:function(t,e){var n=e.vote,o=t.votes.find(function(t){return t.voter==n.voter}).id;t.votes=t.votes.filter(function(t){return t.id!==o})}};e.a={state:o,mutations:s}},TCJU:function(t,e){},YaEn:function(t,e,n){"use strict";var o=n("7+uW"),s=n("/ocq"),i=n("lO7g");o.a.use(s.a),e.a=new s.a({routes:[{path:"/",name:"home",component:i.a}]})},YvLj:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result-svg"},[n("div",{staticClass:"title"},[t._v("\n    "+t._s(t.votes.name)+"\n  ")]),t._v(" "),n("div",{staticClass:"piechart"},[n("svg",{attrs:{width:"100",height:"100",viewBox:"0 0 32 32"}},[n("circle",{attrs:{id:"background",r:"16",cx:"16",cy:"16",fill:"#FFFFFF",stroke:"yellow","stroke-width":"11"}}),t._v(" "),n("circle",{attrs:{id:"percent",r:"16",cx:"16",cy:"16",fill:"#FFFFFF","fill-opacity":"0.5",stroke:"deeppink","stroke-width":"11","stroke-dasharray":t.percentStr}})]),t._v(" "),n("h3",[t._v(" "+t._s(t.percent+"%"))])])])},s=[],i={render:o,staticRenderFns:s};e.a=i},"Yx9/":function(t,e){},gosb:function(t,e,n){"use strict";function o(t){n("AEJK")}var s=n("pFqp"),i=n("9Ja2"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-61e21ae6",null);e.a=u.exports},keXt:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"option"},[n("div",{staticClass:"title"},[n("div",{staticClass:"text"},[t._v("\n      "+t._s(t.option.text)+"\n    ")])]),t._v(" "),n("div",{staticClass:"votes"},t._l(t.votes,function(e){return n("div",{staticClass:"vote"},[t._v("\n      "+t._s(e.voter)+"\n    ")])})),t._v(" "),n("div",{staticClass:"action"},[t.voted?n("div",[n("button",{staticClass:"vote-btn-c",on:{click:t.votedown}},[t._v("撤票")])]):n("div",[n("button",{staticClass:"vote-btn",on:{click:t.voteup}},[t._v("投票")])])])])},s=[],i={render:o,staticRenderFns:s};e.a=i},lO7g:function(t,e,n){"use strict";function o(t){n("Yx9/")}var s=n("Fs8J"),i=n("NGUh"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-572ebc4f",null);e.a=u.exports},pFqp:function(t,e,n){"use strict";e.a={name:"login-form",data:function(){return{username:""}},computed:{isAuthentucated:function(){return this.$store.state.auth.isAuthentucated},currentUser:function(){return this.$store.state.auth.currentUser}},methods:{login:function(){this.username.trim()&&this.$store.commit({type:"login",username:this.username})}}}},tcnj:function(t,e,n){"use strict";function o(t){n("vZJA")}var s=n("0pd7"),i=n("zBHv"),r=n("VU/8"),a=o,u=r(s.a,i.a,!1,a,"data-v-7742fee4",null);e.a=u.exports},tqsL:function(t,e){},vZJA:function(t,e){},xJD8:function(t,e,n){"use strict";var o=n("lO7g");e.a={name:"app",components:{Home:o.a}}},yV8u:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("home")],1)},s=[],i={render:o,staticRenderFns:s};e.a=i},zBHv:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.options,function(t){return n("div",{staticClass:"option"},[n("vote-option",{attrs:{option:t}})],1)}))},s=[],i={render:o,staticRenderFns:s};e.a=i},znFG:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new-option"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"投票项"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.addOption}},[t._v("添加")])])},s=[],i={render:o,staticRenderFns:s};e.a=i}},["NHnr"]);
//# sourceMappingURL=app.9b79b1bbcc1c32f9e3af.js.map